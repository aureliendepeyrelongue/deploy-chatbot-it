(function(t){function e(e){for(var s,a,i=e[0],c=e[1],l=e[2],d=0,v=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&v.push(r[a][0]),r[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(v.length)v.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],s=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(s=!1)}s&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var s={},r={app:0},o=[];function a(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=s,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(n,s,function(e){return t[e]}.bind(null,s));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.listIsEmptyComputed?n("div",{staticClass:"row",attrs:{id:"history-row"}},[t.startDelay?n("div",{staticClass:"col offset-s4 s4"},[t._m(2)]):t._e()]):n("div",{staticClass:"row",attrs:{id:"history-row"}},[n("div",{staticClass:"col m4 s12"},[n("div",{attrs:{id:"history-links-container"}},[n("div",{staticClass:"collection"},t._l(t.conversations,(function(e,s){return n("a",{key:s,staticClass:"collection-item",class:t.getLinkClass(e),attrs:{href:"#!"},on:{click:function(n){return t.getCurrentConversation(e)}}},[t._v("Conversation number "+t._s(t.conversations.length-s))])})),0)])]),n("div",{staticClass:"col m8 s12",attrs:{id:"history-chat-panel"}},[n("ul",{staticClass:"collection with-header"},[n("li",{staticClass:"collection-header"},[n("h4",[t._v(" Conversation of "),n("span",{attrs:{id:"history-date"}},[t._v(t._s(t.currentConversation.date))])])]),n("li",{ref:"messageContainerScroll",staticClass:"collection-item custom-grey ",attrs:{id:"history-chat-container"}},[n("div",[t._l(t.computedMessages,(function(t,e){return n("div",{key:e},["chatbot"==t.author?n("chat-bot-message",{attrs:{content:t.content}}):n("user-message",{attrs:{content:t.content}})],1)})),n("div",[t.currentConversation.helpful?n("div",{staticClass:"card teal darken-1"},[t._m(0)]):n("div",{staticClass:"card deep-purple darken-3"},[t._m(1)])])],2)])])])])])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-content white-text"},[n("span",{staticClass:"card-title"},[t._v("You found that this conversation was helpful")]),n("p",[t._v(" Thank you for telling us like you did if a conversation is helful or not. ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-content white-text"},[n("span",{staticClass:"card-title"},[t._v("You found that this conversation was not helpful")]),n("p",[t._v(" If you have found a solution to your problem please contact us. ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card deep-purple darken-3"},[n("div",{staticClass:"card-content white-text"},[n("span",{staticClass:"card-title"},[t._v("You don't have any conversation in your history yet ! ")]),n("p",[t._v(" Start a conversation with our chatbot, when it is finished it will be placed here inside your history ")])])])}],a=(n("d81d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-message"},[n("div",{staticClass:"message-author"},[t._v(" Me ")]),n("div",{staticClass:"message-content"},[t._v(" "+t._s(t.content)+" ")])])}),i=[],c={name:"UserMessage",props:{author:String,content:String}},l=c,u=n("2877"),d=Object(u["a"])(l,a,i,!1,null,"4db14c2e",null),v=d.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chatbot-message"},[n("div",{staticClass:"message-author"},[t._v(" chatbot ")]),n("div",{staticClass:"message-content",domProps:{innerHTML:t._s(t.content)}})])},f=[],p={name:"ChatBotMessage",props:{content:String}},m=p,_=Object(u["a"])(m,h,f,!1,null,"177e625c",null),C=_.exports,g=n("bc3a"),y=n.n(g),b={name:"History",components:{UserMessage:v,ChatBotMessage:C},data:function(){return{conversations:[],currentItems:[],currentConversation:{id:-1,messages:[],date:""},startDelay:!1}},mounted:function(){var t=this;setTimeout((function(){t.startDelay=!0}),1e3),y.a.get("/user/history/keys").then((function(e){var n=e.data;null!==n&&void 0!==n.conversations_ids&&void 0!==n.last_conversation&&(t.conversations=n.conversations_ids,t.currentConversation.id=n.last_conversation.id,t.currentItems=n.last_conversation.content.items,t.currentConversation.date=n.last_conversation.created_on,t.currentConversation.helpful=e.data.last_conversation.was_helpful,t.scrollMessage())})).catch((function(t){alert("Error, no internet connexion."),console.trace(t)}))},methods:{getLinkClass:function(t){return t===this.currentConversation.id?"deep-purple darken-3 active":""},getCurrentConversation:function(t){var e=this;y.a.get("/user/history/conversation/"+t).then((function(n){var s=n.data;null!==s&&(e.currentConversation.id=t,e.currentItems=s.content.items,e.currentConversation.date=s.created_on,e.currentConversation.helpful=s.was_helpful,e.scrollMessage())})).catch((function(t){alert("Error, no internet connexion."),console.trace(t)}))},scrollMessage:function(){this.$nextTick((function(){this.$refs.messageContainerScroll.scrollTop=this.$refs.messageContainerScroll.scrollHeight}))}},computed:{listIsEmptyComputed:function(){return 0===this.conversations.length},computedMessages:function(){return this.currentItems.map((function(t){var e;return e="Q"===t.type?{author:"Me",content:t.text}:{author:"chatbot",content:t.text},e}))}}},w=b,k=(n("5bab"),Object(u["a"])(w,r,o,!1,null,null,null)),x=k.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(x)}}).$mount("#history-app")},"5bab":function(t,e,n){"use strict";n("9d76")},"9d76":function(t,e,n){}});
//# sourceMappingURL=app.js.map